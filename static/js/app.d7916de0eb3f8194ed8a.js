webpackJsonp([1],{"1UJL":function(t,e){},"2FKS":function(t,e){},"6cGp":function(t,e){},"83Yu":function(t,e){},OkBc:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),s=i("sUu7"),a=(i("ZA4m"),i("Dd8w")),r=i.n(a),o=i("FXzt"),l={props:{item:Object},computed:{classes:function(){return{"is-due":this.isDue,"is-overdue":this.isOverdue}},timestamp:function(){return Number(new Date(this.item.date))},isOverdue:function(){return this.timestamp&&this.timestamp<Date.now()},isDue:function(){var t=this.timestamp,e=t-2592e5,i=Date.now();return t>i&&i>e}},methods:{edit:function(){this.$emit("edit",this.item)}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card",class:t.classes,attrs:{"data-id":t.item.id}},[i("div",{staticClass:"icons"},[t.isDue?i("span",{staticClass:"icon icon-due has-text-warning",attrs:{title:"Item is due on "+t.item.date}},[i("i",{staticClass:"fas fa-star"})]):t.timestamp?i("span",{staticClass:"icon icon-date",attrs:{title:"Item is due on "+t.item.date}},[i("i",{staticClass:"far fa-bell"})]):t._e(),t._v(" "),i("span",{staticClass:"icon icon-edit",on:{click:t.edit}},[i("i",{staticClass:"fas fa-edit"})])]),t._v(" "),i("div",[i("p",{staticClass:"item-title"},[t._v(t._s(t.item.title))]),t._v(" "),t.item.description?i("p",{staticClass:"item-description"},[t._v(t._s(t.item.description))]):t._e()])])},staticRenderFns:[]};var c=i("VU/8")(l,d,!1,function(t){i("WNgE")},"data-v-2429788b",null).exports,u=i("woOf"),m=i.n(u);var p={data:function(){return{id:null,title:"",description:"",date:null,message:""}},computed:{values:function(){return this.$data}},methods:{show:function(t){m()(this,t),this.$el.querySelector("input").focus()},validate:function(){var t=this;this.$validator.validate().then(function(e){if(e)return t.submit();t.message="Please complete the required fields!"})},submit:function(){this.$emit("submit",this.values),this.reset()},cancel:function(){this.$emit("cancel",this.values),this.reset()},reset:function(){m()(this,{id:null,title:"",description:"",date:null,message:""})},getError:function(t){return(this.errors.first(t)||"").replace(/The .+ field/,"This field")}}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"query-form card"},[i("div",{staticClass:"card-content"},[i("h2",{staticClass:"title"},[t._v("New task")]),t._v(" "),i("ui-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"title",label:"Title",error:t.getError("title")},on:{enter:t.validate},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),i("ui-input",{attrs:{name:"description",type:"textarea",label:"Description"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),t._v(" "),i("ui-input",{attrs:{name:"date",type:"date",label:"Date"},on:{enter:t.validate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),i("div",{staticClass:"field is-grouped"},[i("ui-button",{attrs:{type:"primary"},on:{click:t.validate}},[t._v(t._s(t.id?"Update":"Add"))]),t._v(" "),i("ui-button",{attrs:{type:"text"},on:{click:t.cancel}},[t._v("Cancel")])],1)],1)])},staticRenderFns:[]};var v=i("VU/8")(p,f,!1,function(t){i("6cGp")},null,null).exports,h={props:{listId:[String,Number],placeholder:String,icon:{type:String,default:"angle-right"}},data:function(){return{input:""}},methods:{onEnter:function(t){this.emit(t.metaKey||t.ctrlKey)},onClick:function(){this.emit(!0)},emit:function(t){this.input&&(this.$emit("enter",{id:this.listId,text:this.input,more:t}),this.input="")}}},_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ui-item-entry field has-addons"},[i("div",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.input,expression:"input",modifiers:{trim:!0}}],staticClass:"input",attrs:{placeholder:t.placeholder},domProps:{value:t.input},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter.apply(null,arguments)},input:function(e){e.target.composing||(t.input=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),t.icon?i("div",{staticClass:"control"},[i("button",{staticClass:"button is-primary",attrs:{type:"submit",disabled:0===t.input.length},on:{click:t.onClick}},[i("span",{staticClass:"icon is-small"},[i("i",{class:"fas fa-"+t.icon})])])]):t._e()])},staticRenderFns:[]};var b=i("VU/8")(h,_,!1,function(t){i("Wi0N")},null,null).exports;function y(t,e){let i=null,n=null,s=null,a=null;return function e(r,...o){this.onDrop&&this[e](r,...o),null!==r.removedIndex&&(i=new g(r.removedIndex,o)),null!==r.addedIndex&&(n=new g(r.addedIndex,o),s=r.payload,a=r.droppedElement),i&&n&&(this[t](i,n,a,s),i=null,n=null,s=null,a=null)}}function g(t,e){this.index=t,this.params=e}var C={components:{Container:o.a,Draggable:o.b,UiItemEntry:b,UiItemForm:v,Card:c},data:function(){return{modal:!1,activeListId:null}},computed:{lists:function(){return this.$store.state.board.lists}},methods:{onAddList:function(t){var e=this,i=t.text;this.$store.commit("addList",{title:i}),this.$nextTick(function(){var t=e.$refs.list;t[t.length-1].querySelector("input").focus()})},onAddItem:function(t){var e=t.id,i=t.text;if(t.more)return this.activeListId=e,this.modal=!0,void this.showModal({title:i});this.addItem(e,i)},onAddFullItem:function(t){t.id?this.$store.commit("updateItem",r()({itemId:t.id},t)):this.addItem(this.activeListId,t.title,t.description,t.date),this.hideModal()},addItem:function(t,e,i,n){this.$store.commit("addItem",{listId:t,title:e,description:i,date:n})},editItem:function(t){this.showModal(t)},onListDrop:y("onListDropComplete"),onListDropComplete:function(t,e){this.$store.commit("moveList",[t.index,e.index])},onCardDrop:y("onCardDropComplete"),onCardDropComplete:function(t,e,i,n){this.$store.commit("moveItem",[t.params[1],t.index,e.params[1],e.index])},showModal:function(t){var e=this;this.modal=!0,this.$nextTick(function(){e.$refs.form.show(t)})},hideModal:function(){this.focusInput(this.activeListId),this.modal=!1},focusInput:function(t){var e=this.lists.findIndex(function(e){return e.id===t});e>-1&&this.$refs.list[e].querySelector("input").focus()},reset:function(){confirm("Are you sure you want to reset the board?")&&this.$store.commit("reset")}}},I={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"board-container"},[i("div",{staticClass:"board"},[i("div",{staticClass:"clear-button"},[i("ui-button",{attrs:{disabled:0===t.lists.length},on:{click:t.reset}},[t._v("Reset")])],1),t._v(" "),i("div",{staticClass:"lists-container"},[i("Container",{attrs:{"lock-axis":"x",orientation:"horizontal","drag-handle-selector":".list-drag-handle"},on:{drop:t.onListDrop}},t._l(t.lists,function(e,n){return i("Draggable",{key:e.id},[i("section",{ref:"list",refInFor:!0,staticClass:"list-container",attrs:{"data-id":e.id}},[i("div",{staticClass:"list-header"},[i("span",{staticClass:"list-drag-handle"},[t._v("â˜°")]),t._v("\n              "+t._s(e.title)+"\n            ")]),t._v(" "),i("Container",{attrs:{"group-name":"list","drag-class":"card-ghost","drop-class":"card-ghost-drop","non-drag-area-selector":".icon","animation-duration":100},on:{drop:function(i){return t.onCardDrop(i,e,n)}}},t._l(e.items,function(e){return i("Draggable",{key:e.id},[i("Card",{attrs:{item:e},on:{edit:t.editItem}})],1)}),1),t._v(" "),i("div",{staticClass:"item-entry"},[i("ui-item-entry",{attrs:{"list-id":e.id,placeholder:"Add an item",icon:"ellipsis-h"},on:{enter:t.onAddItem}})],1)],1)])}),1),t._v(" "),i("div",{staticClass:"new-list"},[i("ui-item-entry",{attrs:{placeholder:"Add a list"},on:{enter:t.onAddList}})],1)],1)]),t._v(" "),i("ui-modal",{ref:"modal",attrs:{active:t.modal,cancellable:1},on:{close:t.hideModal}},[i("UiItemForm",{ref:"form",on:{submit:t.onAddFullItem,cancel:t.hideModal}})],1)],1)},staticRenderFns:[]};var x={components:{Board:i("VU/8")(C,I,!1,function(t){i("Zv5w")},null,null).exports}},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[this._m(0),this._v(" "),e("div",[e("board")],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",{staticClass:"is-size-3"},[this._v("Tasks")])])}]};var k=i("VU/8")(x,$,!1,function(t){i("2FKS")},null,null).exports,w=i("NYxO"),E=i("424j");const D=i("gApy");function L(t,e,i,n=null){return{id:n=n||D(),title:t,description:e,date:i}}function U(t,e=[]){return{id:D(),title:t,items:e}}function F(t,e){return t.find(t=>t.id===e)}function S(t,e){return t.find(t=>t.items.find(t=>t.id===e))}function N(t,e){const i=t.find(t=>t.items.find(t=>t.id===e));if(i)return i.items.find(t=>t.id===e)}var A={state:function(){return{lists:[]}},mutations:{lists(t,e){t.lists=e},reset(t){t.lists=[]},addList(t,{title:e}){t.lists.push(U(e))},moveList(t,[e,i]){t.lists.splice(i,0,t.lists.splice(e,1)[0])},removeList(t,{listId:e}){const i=t.lists.findIndex(t=>t.id===e);t.lists.splice(i,1)},addItem(t,{listId:e,title:i,description:n,date:s}){F(t.lists,e).items.push(L(i,n,s))},updateItem(t,{itemId:e,title:i,description:n,date:s}){const a=N(t.lists,e);a&&Object.assign(a,L(i,n,s,e))},moveItem(t,[e,i,n,s]){const a="number"==typeof e?t.lists[e].items:F(t.lists,e);("number"==typeof n?t.lists[n].items:F(t.lists,n)).splice(s,0,a.splice(i,1)[0])},removeItem(t,{itemId:e}){const i=S(t.lists,e);i.items.splice(i.items.findIndex(t=>t.id===e),1)}},getters:{getListById:t=>e=>F(t.lists,e),getListByItemId:t=>e=>S(t.lists,e),getItemById:t=>e=>N(t.lists,e)}};n.a.use(w.a);var O=new w.a.Store({plugins:[Object(E.a)()],modules:{board:A}}),q=(i("q+rq"),{props:{type:{type:String,default:"button"}}}),B={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control"},[i("button",t._b({class:"button is-"+t.type,attrs:{type:"button"},on:{click:function(e){return t.$emit("click")}}},"button",t.$attrs,!1),[t._t("default")],2)])},staticRenderFns:[]};var K=i("VU/8")(q,B,!1,function(t){i("YK57")},null,null).exports,M={props:{active:Boolean,cancellable:[Number,Boolean]},mounted:function(){window.addEventListener("keydown",this.onKeyDown)},destroyed:function(){window.removeEventListener("keydown",this.onKeyDown)},methods:{cancel:function(){this.cancellable&&this.close()},close:function(){this.$emit("close")},onKeyDown:function(t){"Escape"===t.key&&this.cancel()}}},R={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal",class:{"is-active":this.active}},[e("div",{staticClass:"modal-background",on:{mousedown:this.cancel}}),this._v(" "),e("div",{staticClass:"modal-content"},[this._t("default")],2)])},staticRenderFns:[]};var V=i("VU/8")(M,R,!1,function(t){i("83Yu")},null,null).exports,T={extends:{props:{name:String,value:String,label:String,error:String},computed:{input:{get(){return this.value},set(t){this.$emit("input",t)}}}},props:{type:{type:[String,Number],default:"text"}},methods:{onEnter:function(t){this.$emit("enter",t)}}},j={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"field"},[t.label?i("label",{staticClass:"label"},[t._v(t._s(t.label))]):t._e(),t._v(" "),i("div",{staticClass:"control"},["textarea"===t.type?i("textarea",t._b({directives:[{name:"model",rawName:"v-model.trim",value:t.input,expression:"input",modifiers:{trim:!0}}],staticClass:"textarea",class:{"is-danger":t.error},attrs:{name:t.name},domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}},"textarea",t.$attrs,!1)):i("input",t._b({directives:[{name:"model",rawName:"v-model.trim",value:t.input,expression:"input",modifiers:{trim:!0}}],staticClass:"input",class:{"is-danger":t.error},attrs:{type:t.type,name:t.name},domProps:{value:t.input},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter.apply(null,arguments)},input:function(e){e.target.composing||(t.input=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}},"input",t.$attrs,!1))]),t._v(" "),t.error?i("p",{staticClass:"help is-danger"},[t._v(t._s(t.error))]):t._e()])},staticRenderFns:[]};const P={UiButton:K,UiModal:V,UiInput:i("VU/8")(T,j,!1,function(t){i("1UJL")},null,null).exports};Object.keys(P).forEach(t=>n.a.component(t,P[t])),n.a.config.productionTip=!1,n.a.use(s.a);new n.a({store:O,render:t=>t(k)}).$mount("#app")},WNgE:function(t,e){},Wi0N:function(t,e){},YK57:function(t,e){},ZA4m:function(t,e){},Zv5w:function(t,e){},"q+rq":function(t,e){}},["OkBc"]);
//# sourceMappingURL=app.d7916de0eb3f8194ed8a.js.map